<div>
	<ng-transclude></ng-transclude>
	<div class="row">
		<div class="col-lg-5">
			<h3 style="margin-top: 0">{{config.title}}</h3>
		</div>
		<div class="col-lg-7">
			<form class="form-inline pull-right">
				<div wm-table-menu
					 refresh-action="refreshData"
					 rows-on-page="config.rowsOnPage"
					 headers="config.columns"
                     filter-config="config.filter"
                     table-menu="config.tableMenu"></div>
			</form>
		</div>
	</div>

	<div class="row">
        <div class="table-responsive">
            <table class="table table-striped table-hover"
                   st-table="data" st-pipe="loadData">
                <colgroup>
                    <col ng-repeat="column in config.columns.list" class="{{column.css}}" width="{{column.width}}" ng-show="isShowColumn($index)">
                    <col ng-show="config.rowMenu" width="{{config.rowMenu.width}}">
                </colgroup>
                <thead>
                <tr>
                    <th class="grid-header" ng-repeat="column in config.columns.list"
                        st-sort="{{!column.disableSort ? column.id : ''}}" ng-show="isShowColumn($index)">
                        {{column.label}}
                    </th>
                    <th ng-show="config.rowMenu"></th>
                </tr>
                <tr ng-show="config.filter.display">
                    <th ng-repeat="column in config.columns.list" ng-show="isShowColumn($index)">
                        <div ng-hide="column.disableFilter"
                             ng-switch="column.type">
                            <input ng-switch-when="string" ng-model="config.filter.data[column.id]"
                                   st-search="{{::column.id}}" placeholder="{{::column.label}}"
                                   class="input-sm form-control table-filter" ng-class="column.id" type="search"/>
                            <wm-date-time-picker ng-switch-when="date" format="DD.MM.YYYY"
                                                 ng-model="config.filter.data[column.id]" st-model-search="{{::column.id}}"
                                                 class="table-filter" ng-class="column.id" use-current="false"
                                                 show-clear="true" placeholder="{{::column.label}}" size="sm">
                            </wm-date-time-picker>
                        </div>
                    </th>
                    <th ng-show="config.rowMenu"></th>
                </tr>
                </thead>
                <tbody ng-show="config.isLoading">
                <tr>
                    <td colspan="{{config.columns.active}}" class="text-center"><wm-loader></wm-loader></td>
                </tr>
                </tbody>
                <tbody ng-show="!config.isLoading">
                    <tr ng-repeat="row in data" ng-include='getTemplateUrl()'></tr>
                </tbody>
                <tfoot>
                <tr>
                    <td class="text-center" st-pagination=""
                        st-items-by-page="config.rowsOnPage"
                        st-displayed-pages="10"
                        colspan="{{config.columns.active}}">
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>
	</div>

</div>