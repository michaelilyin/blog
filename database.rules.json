{
    "rules": {
        "application": {
            "config": {
                ".read": true,
                ".write": "auth != null && root.child('/user-perms/' + auth.uid + '/edit-config').exists()"
            }
        },
        "users": {
            "$uid": {
                ".write": "auth != null && $uid == auth.uid",
                ".read": "auth != null && $uid == auth.uid"
            }
        },
        "user-list": {
            ".read": "auth != null && root.child('/user-perms/' + auth.uid + '/view-users').exists()",
            "$uid": {
                ".write": "auth != null && $uid == auth.uid"
            }
        },
        "user-perms": {
            "$uid": {
                ".read": "auth != null && ($uid == auth.uid || root.child('/user-perms/' + auth.uid + '/view-user-perms').exists())"
            }
        },
        "perms": {
            ".read": "auth != null && root.child('/user-perms/' + auth.uid + '/view-perms').exists()"
        },
        "roles": {
            ".read": "auth != null && root.child('/user-perms/' + auth.uid + '/view-roles').exists()",
            ".write": "auth != null && root.child('/user-perms/' + auth.uid + '/edit-roles').exists()"
        },
        "user-roles": {
            ".read": "auth != null && root.child('/user-perms/' + auth.uid + '/view-user-roles').exists()",
            ".write": "auth != null && root.child('/user-perms/' + auth.uid + '/edit-user-roles').exists()"
        }
    }
}
