<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.medvedmike.vsu.demo.repository.administrative.RolesRepository">

    <select id="getUserViews" resultType="net.medvedmike.vsu.demo.domain.administrative.RoleView">
        <include refid="net.medvedmike.vsu.demo.repository.commonSql.pageSupportBegin"/>
        <![CDATA[
        SELECT
          id as id,
          name as name,
          description as description
        FROM users
        WHERE
              (#{name}::VARCHAR IS NULL OR UPPER(name) LIKE UPPER('%${name}%'))
          AND (#{description}::VARCHAR IS NULL OR UPPER(description) LIKE UPPER('%${description}%'))
        ]]>
        <include refid="net.medvedmike.vsu.demo.repository.commonSql.orderBy"/>
        <include refid="net.medvedmike.vsu.demo.repository.commonSql.pageSupportEnd"/>
    </select>

</mapper>