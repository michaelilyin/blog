<div mat-dialog-title class="h2">
    <span>Edit role:</span>
    <app-translated-text *ngIf="roleName" [model]="roleName"></app-translated-text>
    <app-lang-selector #langSelector class="mat-dialog-title-icon-suffix"></app-lang-selector>
</div>
<mat-dialog-content>
    <div style="display: flex; flex-direction: row;">
        <div style="display: flex; flex-direction: column;">
            <app-translated-input placeholder="Name"
                                  [disabled]="data.readonly"
                                  [lang]="langSelector.selectedLang"
                                  [model]="roleName">
            </app-translated-input>

            <app-translated-textarea placeholder="Description"
                                     [disabled]="data.readonly"
                                     [lang]="langSelector.selectedLang"
                                     [model]="roleDescription"
                                     [rows]="10">
            </app-translated-textarea>
        </div>

        <div style="display: flex; flex-direction: column; margin-left: 8px;">

            <mat-form-field>
                <mat-select placeholder="Permissions" [formControl]="perms" multiple [disabled]="data.readonly">
                    <mat-select-trigger>
                        <div *ngFor="let perm of perms.value">
                            {{perm}} <button mat-button>1</button>
                        </div>
                    </mat-select-trigger>
                    <mat-option *ngFor="let perm of permissionOptions" [value]="perm.$key">{{perm.label}}</mat-option>
                </mat-select>
            </mat-form-field>


            <mat-list>
                <mat-list-item *ngFor="let perm of rolePermissions">
                    <p matLine>{{perm}}</p>
                    <button mat-icon-button>
                        <mat-icon>remove</mat-icon>
                    </button>
                </mat-list-item>
            </mat-list>
        </div>
    </div>
</mat-dialog-content>
<mat-dialog-actions class="flex-end">
    <button mat-button color="primary" *ngIf="!data.readonly && access('edit-roles')" (click)="save()">Save</button>
    <button mat-button color="warn" (click)="cancel()">Cancel</button>
</mat-dialog-actions>
