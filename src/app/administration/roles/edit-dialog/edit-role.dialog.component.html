<div mat-dialog-title class="h2">
    <span>Edit role:</span>
    <app-translated-text *ngIf="roleName" [model]="roleName"></app-translated-text>
    <app-lang-selector #langSelector class="mat-dialog-title-icon-suffix"></app-lang-selector>
</div>
<mat-dialog-content>
    <div style="display: flex; flex-direction: row; width: 100%">
        <div style="display: flex; flex-direction: column; width: 50%">
            <app-translated-input placeholder="Name"
                                  [disabled]="data.readonly"
                                  [lang]="langSelector.selectedLang"
                                  [model]="roleName">
            </app-translated-input>

            <app-translated-textarea placeholder="Description"
                                     [disabled]="data.readonly"
                                     [lang]="langSelector.selectedLang"
                                     [model]="roleDescription"
                                     [rows]="10">
            </app-translated-textarea>
        </div>

        <div style="display: flex; flex-direction: column; margin-left: 8px; width: 50%">

            <mat-form-field>
                <input matInput #matAutocompleteTrigger placeholder="Permissions" [formControl]="perms" [matAutocomplete]="auto" (click)="open()" />
                <mat-autocomplete #auto="matAutocomplete" (optionSelected)="addPerm($event)">
                    <mat-option *ngFor="let perm of filteredOptions" [value]="perm">
                        {{ perm.label }}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
            <mat-chip-list #chipList>
                <mat-chip *ngFor="let perm of rolePermissions" [selectable]="false"
                          (remove)="removePerm(perm)"
                          style="margin-bottom: 5px;"
                >
                    {{perm?.label}}
                    <mat-icon matChipRemove *ngIf="access('edit-roles')">cancel</mat-icon>
                </mat-chip>
            </mat-chip-list>
        </div>
    </div>
</mat-dialog-content>
<mat-dialog-actions class="flex-end">
    <button mat-button color="primary" *ngIf="!data.readonly && access('edit-roles')" (click)="save()">Save</button>
    <button mat-button color="warn" (click)="cancel()">Cancel</button>
</mat-dialog-actions>
