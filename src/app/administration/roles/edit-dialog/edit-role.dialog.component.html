<div md-dialog-title class="h2">
    <span>Edit role:</span>
    <app-translated-text *ngIf="roleName" [model]="roleName"></app-translated-text>
    <app-lang-selector #langSelector class="md-dialog-title-icon-suffix"></app-lang-selector>
</div>
<md-dialog-content>
    <div style="display: flex; flex-direction: row;">
        <div style="display: flex; flex-direction: column;">
            <app-translated-input placeholder="Name"
                                  [disabled]="data.readonly"
                                  [lang]="langSelector.selectedLang"
                                  [model]="roleName">
            </app-translated-input>

            <app-translated-textarea placeholder="Description"
                                     [disabled]="data.readonly"
                                     [lang]="langSelector.selectedLang"
                                     [model]="roleDescription"
                                     [rows]="10">
            </app-translated-textarea>
        </div>

        <div style="display: flex; flex-direction: column; margin-left: 8px;">

            <md-form-field>
                <md-select placeholder="Permissions" [formControl]="perms" multiple [disabled]="data.readonly">
                    <md-select-trigger>
                        {{perms.value ? perms.value[0] : ''}}
                        <span *ngIf="perms.value?.length > 1" class="example-additional-selection">
                            (+{{perms.value.length - 1}} others)
                        </span>
                    </md-select-trigger>
                    <md-option *ngFor="let perm of permissionOptions" [value]="perm.$key">{{perm}}</md-option>
                </md-select>
            </md-form-field>


            <md-list>
                <md-list-item *ngFor="let perm of rolePermissions">
                    <p mdLine>{{perm}}</p>
                    <button md-icon-button>
                        <md-icon>remove</md-icon>
                    </button>
                </md-list-item>
            </md-list>
        </div>
    </div>
</md-dialog-content>
<md-dialog-actions class="flex-end">
    <button md-button color="primary" *ngIf="!data.readonly && access('edit-roles')" (click)="save()">Save</button>
    <button md-button color="warn" (click)="cancel()">Cancel</button>
</md-dialog-actions>
